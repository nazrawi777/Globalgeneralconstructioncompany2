{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Interactive company organizational chart. View team structure, hierarchy, contact information, and more.">
  <meta name="author" content="Donis Furst">
  <title>Company Organization Chart</title>
  <link rel="stylesheet" href="{% static 'css/team.css' %}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header1 no-print">
      <div class="header1-content">
        <div class="header1-info">
          <h1 class="header1-title">Construction Corp Organization</h1>
          <p class="header1-subtitle"><span id="last-updated">g</span></p>
        </div>
        <div class="search-container">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
          <input type="search" id="search-input" class="search-input" placeholder="Search by name or role..." aria-label="Search team members">
          <button id="search-clear" class="search-clear" aria-label="Clear search" style="display: none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M18 6 6 18M6 6l12 12"/>
            </svg>
          </button>
          <ul id="search-results" class="search-results" role="listbox" style="display: none;"></ul>
        </div>
      </div>
      
      <!-- Toolbar -->
      <div class="toolbar" role="toolbar" aria-label="Chart controls">
        <div class="toolbar-group">
          <button id="zoom-out" class="tool-btn" aria-label="Zoom out">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35M8 11h6"/>
            </svg>
          </button>
          <span id="zoom-level" class="zoom-level">100%</span>
          <button id="zoom-in" class="tool-btn" aria-label="Zoom in">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35M8 11h6M11 8v6"/>
            </svg>
          </button>
        </div>
        <div class="toolbar-group">
          <button id="expand-all" class="tool-btn" aria-label="Expand all">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/>
            </svg>
          </button>
          <button id="collapse-all" class="tool-btn" aria-label="Collapse all">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M4 14h6v6M14 4h6v6M3 21l7-7M21 3l-7 7"/>
            </svg>
          </button>
        </div>
        <div class="toolbar-group">
          <button id="compact-toggle" class="tool-btn" aria-label="Toggle compact mode">
            <span class="compact-label">Compact</span>
          </button>
        </div>
        <button id="print-btn" class="tool-btn no-print" aria-label="Print chart">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M6 9V2h12v7M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2M6 14h12v8H6v-8z"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Chart Container -->
    <main id="chart-container" class="chart-container" role="region" aria-label="Organization chart">
      <div id="org-chart" class="org-chart"></div>
    </main>

    <!-- Contact Modal -->
    <div id="modal-backdrop1" class="modal-backdrop1" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-content">
        <button id="modal-close" class="modal-close" aria-label="Close modal">
          
        </button>
        
        <div class="modal-header">
          <div class="modal-avatar-container">
            <div id="modal-avatar" class="modal-avatar"></div>
          </div>
        </div>
        
        <div class="modal-body">
          <h2 id="modal-title" class="modal-name"></h2>
          <p id="modal-role" class="modal-role"></p>
          
          <div class="contact-info">
            <div class="contact-row">
              <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
              </svg>
              <a id="modal-phone" class="contact-link" href="#"></a>
              <button id="copy-phone" class="copy-btn" aria-label="Copy phone number">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                </svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" style="display: none;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
              </button>
            </div>
            <div class="contact-row">
              <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>
              </svg>
              <a id="modal-email" class="contact-link" href="#"></a>
              <button id="copy-email" class="copy-btn" aria-label="Copy email address">
                <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                </svg>
                <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" style="display: none;">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
              </button>
            </div>
          </div>
          
          <div id="social-links" class="social-links"></div>
          
          <div class="modal-actions">
            <a id="call-btn" class="action-btn action-btn-primary" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone-icon lucide-phone"><path d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"/></svg>
              Call
            </a>
            <a id="email-btn" class="action-btn action-btn-secondary" href="#">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone-icon lucide-phone"><path d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"/></svg>
              Email
            </a>
            <button id="vcard-btn" class="action-btn action-btn-gradient">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
              </svg>
              Download vCard
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="{% static 'js/team.js' %}"></script>
</body>
</html>
